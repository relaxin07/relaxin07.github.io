(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{234:function(e,t,a){e.exports=a(445)},239:function(e,t,a){},438:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(19),i=a.n(l),s=(a(239),a(41)),o=a(26),m=a(29),u=a(83),d=a(39),f=a(84),p=a(85),v=a(90),g=a(20),h=a(35),k=a(199),b=a.n(k),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={initialData:[]},a.changeData=function(e){for(var t=0;t<24;t++)e[t]={id:t,min:0};a.setState((function(){return{initialData:e}}))},a.convertTimeInMinutes=function(e,t,a){return parseInt(60*e)+parseInt(t)},a.convertData=function(){for(var e=a.state.initialData,t=a.props.data,n=0;n<t.length;n++){for(var r,c=t[n].timeStart.split(":"),l=parseInt(c[0]),i=t[n].timeSpend.split(":"),s=(r=a).convertTimeInMinutes.apply(r,Object(m.a)(i));s>0;){var o=60-e[l].min;e[l].min=e[l].min+s,e[l].min>60?(e[l].min=60,l++,s-=o):s=0}a.setState((function(){return{initialData:e}}))}},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.initialData;this.changeData(e),this.convertData()}},{key:"componentDidUpdate",value:function(e,t){if(this.props!==e){var a=this.state.initialData;this.changeData(a),this.convertData()}}},{key:"render",value:function(){var e=this.state.initialData,t=b()(e);return c.a.createElement("div",{style:{maxWidth:"100%",height:300,padding:"0 20px 0 0"}},c.a.createElement(h.e,null,c.a.createElement(h.b,{data:t,margin:{top:20,right:0,left:0,bottom:5}},c.a.createElement(h.c,{strokeDasharray:"3 3"}),c.a.createElement(h.g,{dataKey:"id"}),c.a.createElement(h.h,null),c.a.createElement(h.f,null),c.a.createElement(h.d,null),c.a.createElement(h.a,{name:"Minutes in this hours",dataKey:"min",fill:"#3248C7"}))))}}]),t}(r.Component),T=Object(g.b)((function(e){return{data:e.data}}))(E),N=function(){return c.a.createElement(T,null)},O=a(464),S=a(467),y=a(471),j=a(470),w=a(466),I=a(468),D=a(469),M=a(473),C=a(14),x=a(22),_=a(200),B=a(15),J=a.n(B),H=a(49),A=a(30),F=0,L=Object(A.b)("tasks/addItem",function(){var e=Object(H.a)(J.a.mark((function e(t,a){var n,r,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.getState,r=a.dispatch;try{c=n().data,c=[].concat(Object(m.a)(c),[t]),localStorage.setItem("tasks",JSON.stringify(c)),localStorage.removeItem("resumeTimer"),r(q(t))}catch(l){console.log(l)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),W=Object(A.b)("tasks/deleteItem",function(){var e=Object(H.a)(J.a.mark((function e(t,a){var n,r,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState,a.dispatch,e.prev=1,r=n().data,(c=r.findIndex((function(e){return e.taskName===t})))>-1&&(r=[].concat(Object(m.a)(r.slice(0,c)),Object(m.a)(r.slice(++c)))),localStorage.setItem("data",JSON.stringify(r)),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),K=Object(A.b)("users/resumeTimer",function(){var e=Object(H.a)(J.a.mark((function e(t,a){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getState,a.dispatch,n=(new Date).toString(),localStorage.setItem("resumeTimer",JSON.stringify(n));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),P=Object(A.b)("users/generateTasks",function(){var e=Object(H.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getState,a.dispatch,localStorage.setItem("data",JSON.stringify(t)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(A.b)("users/getTime",Object(H.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem("resumeTimer"));case 1:case"end":return e.stop()}}),e)})))),U=Object(A.b)("tasks/getTasks",function(){var e=Object(H.a)(J.a.mark((function e(t,a){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,e.prev=1,n=JSON.parse(localStorage.getItem("data")),e.abrupt("return",null===n?[]:n);case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}()),G=Object(A.c)({name:"tasks",initialState:{resumeTimer:{},data:[],statusModal:!1,taskItem:{}},reducers:{addItem:{reducer:function(e,t){e.data.push(t.payload)},prepare:function(e){return{payload:Object(_.a)({id:F++},e)}}},showModal:function(e,t){e.statusModal=!e.statusModal},getTask:function(e,t){var a=e.data.filter((function(e){return e.taskName===t.payload}));e.taskItem=a[0]}},extraReducers:(n={},Object(x.a)(n,U.fulfilled,(function(e,t){e.data=t.payload})),Object(x.a)(n,R.fulfilled,(function(e,t){e.resumeTimer={time:t.payload,resume:null!==t.payload,status:!0}})),Object(x.a)(n,W.fulfilled,(function(e,t){e.data=t.payload})),Object(x.a)(n,P.fulfilled,(function(e,t){console.log("work"),e.data=t.payload})),n)}),Y=G.actions,q=Y.addItem,z={showModal:Y.showModal,getTask:Y.getTask,deleteItem:W,getTasks:U,addItemThunk:L,generateTasks:P,saveTimeOnTimer:K,getTime:R},Q=G.reducer;a(438);function V(e,t){var a=e-.5+Math.random()*(t-e+1);return Math.round(a)}function X(e){var t=Math.round(e/1e3),a=t/3600^0,n=(t-3600*a)/60^0,r=(t-3600*a)%60;return a<10&&(a="0"+a),n<10&&(n="0"+n),r<10&&(r="0"+r),"".concat(a,":").concat(n,":").concat(r)}var Z=Object(g.b)(null,(function(e){return{generateTasks:Object(C.b)(z,e).generateTasks}}))((function(e){var t=e.generateTasks;return c.a.createElement("button",{className:"generate-btn",onClick:function(){return function(e){var t=V(10,15),a=[],n=new Date;n.setHours(V(6,9),[0],[0]);for(var r=1;r<=t;r++){var c=new Date;c.setHours(n.getHours(),[n.getMinutes()+V(10,90)],[n.getSeconds()]),a.push({id:"".concat(r,"task").concat(r),timeStart:n.toLocaleTimeString(),taskName:"Task ".concat(r),timeEnd:c.toLocaleTimeString(),timeSpend:X(c-n)}),n.setHours(c.getHours(),[c.getMinutes()+V(5,10)],[c.getSeconds()])}return e(a),a}(t)}},"Generate")})),$=Object(O.a)({table:{width:"100%"},tbody:{background:"#EAF6FF"},topCell:{color:"#9699A7"},td:{color:"#4962D0"},button:{background:"#fff",color:"#4962D0","&:hover":{backgroundColor:"#fff"}}}),ee=Object(g.b)((function(e){return{data:e.data}}),(function(e){var t=Object(C.b)(z,e),a=t.addItem,n=t.getTask,r=t.getTasks;return{addItem:a,deleteItem:t.deleteItem,getTask:n,getTasks:r}}))((function(e){var t=e.data,a=e.deleteItem,n=e.getTask,l=e.getTasks;Object(r.useEffect)((function(){l()}),[]);var i=$();return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{align:"center"},c.a.createElement(S.a,{className:i.table,"aria-label":"caption table"},c.a.createElement(I.a,null,c.a.createElement(D.a,null,c.a.createElement(j.a,{className:i.topCell},"\u2116"),c.a.createElement(j.a,{className:i.topCell,align:"left"},"Task"),c.a.createElement(j.a,{className:i.topCell,align:"left"},"Time start"),c.a.createElement(j.a,{className:i.topCell,align:"left"},"Time end"),c.a.createElement(j.a,{className:i.topCell,align:"left"},"Time Spend"),c.a.createElement(j.a,{className:i.topCell,align:"left"},"Info"),c.a.createElement(j.a,{className:i.topCell,align:"left"},"Delete"))),c.a.createElement(y.a,{className:i.tbody},t.map((function(e,t){return c.a.createElement(D.a,{key:t},c.a.createElement(j.a,{className:i.td,align:"left"},t+1),c.a.createElement(j.a,{className:i.td,component:"th",scope:"row"},e.taskName),c.a.createElement(j.a,{className:i.td,align:"left"},e.timeStart),c.a.createElement(j.a,{className:i.td,align:"left"},e.timeEnd),c.a.createElement(j.a,{className:i.td,align:"left"},e.timeSpend),c.a.createElement(j.a,{className:i.td,align:"left"},c.a.createElement(o.b,{to:"/tasks/".concat(e.id)},c.a.createElement(M.a,{className:i.button,variant:"contained",onClick:function(){return n(e.taskName)}}," info "))),c.a.createElement(j.a,{className:i.td,align:"left"},c.a.createElement(M.a,{className:i.button,variant:"contained",onClick:function(){return a(e.taskName)}}," delete ")))}))))),c.a.createElement(Z,null))})),te=function(){return c.a.createElement("div",null,c.a.createElement(ee,null))},ae=(a(440),Object(g.b)((function(e){return{taskItem:e.taskItem}}))((function(e){var t=e.taskItem,a=t.taskName,n=t.timeStart,r=t.timeSpend,l=t.timeEnd;return c.a.createElement("div",null,c.a.createElement("h2",null,"Task information"),c.a.createElement("div",null,"Task name - ",a),c.a.createElement("div",null,"Start time - ",n),c.a.createElement("div",null,"End time - ",l),c.a.createElement("div",null,"Spend time - ",r),c.a.createElement(o.b,{className:"back-home-link",to:"/"},"Back home"))}))),ne=function(){return c.a.createElement("div",null,c.a.createElement(ae,null))},re=(a(441),function(){return c.a.createElement("div",null,c.a.createElement("ul",{className:"top-links"},c.a.createElement("li",{className:"top-links__li"},c.a.createElement(o.c,{exact:!0,to:"/",className:"top-links__link",activeClassName:"active"},"Tasks log")),c.a.createElement("li",{className:"top-links__li"},c.a.createElement(o.c,{to:"/chart-page",className:"top-links__link",activeClassName:"active"},"Tasks chart"))))}),ce=(a(442),a(472)),le=(a(443),function(e){var t=e.showModal;return c.a.createElement("div",{className:"wrap-modal"},c.a.createElement("div",{className:" modal"},c.a.createElement("div",{className:"modal__header"},"Empy Task name"),c.a.createElement("div",{className:"modal__text"},"You are trying close your task name , enter the title and try again"),c.a.createElement("div",{className:"wrap-modal-btn"},c.a.createElement("button",{className:"modal-btn",onClick:t},"Close"))))}),ie=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).startTime=null,a.timerId=null,a.state={taskText:"",flag:!1,viewBtn:!0,time:0,loading:!0},a.useStyles=function(){return Object(O.a)({timerBtn:{background:"#fff",textTransform:"uppercase"}})},a.onTimerWrap=function(){(0,a.props.saveTimeOnTimer)(),a.startTimer()},a.startTimer=function(e){var t=a.props.resumeTimer;a.startTime=e?new Date(t.time):new Date,a.timerId=setInterval((function(){a.setState((function(e){return{time:new Date-a.startTime,loading:!1}}))}),1e3),a.setState((function(){return{viewBtn:!1}}))},a.stopTimer=function(e){var t=a.props,n=t.addItemThunk,r=t.showModal,c=a.state.taskText;if(0===c.length)return e.stopPropagation(),e.preventDefault(),r(),!1;clearTimeout(a.timerId),a.setState((function(){return{time:0,viewBtn:!0,taskText:"",timerResume:!1}}));var l=new Date;n({taskName:c,timeStart:a.startTime.toLocaleTimeString(),timeEnd:l.toLocaleTimeString(),timeSpend:a.convertorTime(l-a.startTime)})},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getTime)()}},{key:"componentDidUpdate",value:function(){var e=this.props.resumeTimer;!1===this.state.flag&&!0===e.resume&&!0===e.status&&(this.setState((function(){return{flag:!0}})),this.startTimer(!0)),!1===this.state.flag&&!1===e.resume&&!0===e.status&&this.setState((function(){return{flag:!0,loading:!1}}))}},{key:"convertorTime",value:function(e){var t=Math.round(e/1e3),a=t/3600^0,n=(t-3600*a)/60^0,r=(t-3600*a)%60;return a<10&&(a="0"+a),n<10&&(n="0"+n),r<10&&(r="0"+r),"".concat(a,":").concat(n,":").concat(r)}},{key:"onChangeInput",value:function(e){this.setState({taskText:e.target.value})}},{key:"render",value:function(){var e=this,t=this.useStyles(),a=this.state,n=a.viewBtn,r=a.taskText,l=a.time,i=a.loading,s=this.props,o=s.statusModal,m=s.showModal,u=this.convertorTime(l),d=o?c.a.createElement(le,{showModal:m}):null,f=n?c.a.createElement(M.a,{className:t.timerBtn,variant:"contained",onClick:this.onTimerWrap}," Start "):c.a.createElement(M.a,{className:t.timerBtn,variant:"contained",onClick:function(t){return e.stopTimer(t)}}," Stop ");return c.a.createElement("div",{className:"wrap-top-block"},d,c.a.createElement("input",{type:"text",className:"task-input-name",value:r,onChange:function(t){e.onChangeInput(t)},placeholder:"Name of your task"}),c.a.createElement("div",{className:"b-timer"},c.a.createElement("div",{className:"time"},i?c.a.createElement(ce.a,null):c.a.createElement("span",{className:"time__items"},u," "))),c.a.createElement("span",null,f))}}]),t}(c.a.Component),se=Object(g.b)((function(e){return{statusModal:e.statusModal,resumeTimer:e.resumeTimer}}),(function(e){var t=Object(C.b)(z,e);return{saveTimeOnTimer:t.saveTimeOnTimer,addItemThunk:t.addItemThunk,showModal:t.showModal,getTime:t.getTime}}))(ie),oe=(a(444),function(){return c.a.createElement("div",{className:"container"},c.a.createElement(se,null),c.a.createElement(re,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",component:te,exact:!0}),c.a.createElement(s.a,{path:"/chart-page",component:N}),c.a.createElement(s.a,{path:"/tasks/:id",component:ne}),c.a.createElement(s.a,{path:"*"}," ",c.a.createElement("br",null)," Page is undefined ",c.a.createElement("br",null),c.a.createElement(o.b,{to:"/",className:"back-home-link"},"Back home"))))}),me=a(66),ue=Object(A.a)({reducer:Q,middleware:[me.a]});i.a.render(c.a.createElement(g.a,{store:ue},c.a.createElement(o.a,{basename:"timer-task"},c.a.createElement(oe,null))),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.ad43ad0a.chunk.js.map