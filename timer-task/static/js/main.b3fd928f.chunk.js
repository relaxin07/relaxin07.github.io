(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{242:function(t,e,a){t.exports=a(460)},247:function(t,e,a){},450:function(t,e,a){},455:function(t,e,a){},456:function(t,e,a){},457:function(t,e,a){},458:function(t,e,a){},459:function(t,e,a){},460:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(18),l=a.n(r),c=(a(247),a(38)),i=a(23),o=a(30),m=a(52),u=a(36),d=a(84),k=a(85),f=a(92),p=a(19),h=a(32),g=a(130),E=a.n(g),v=function(t){function e(){var t,a;Object(m.a)(this,e);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(t=Object(k.a)(e)).call.apply(t,[this].concat(s)))).state={data:[]},a.changeData=function(t){for(var e=0;e<24;e++)t[e]={id:e,min:0};a.setState((function(){return{data:t}}))},a.convertTimeInMinutes=function(t,e,a){return parseInt(60*t)+parseInt(e)},a.convertData=function(){for(var t=a.state.data,e=a.props.tasks,n=e.filter((function(t){return"progress"!==t.statusTask})),s=E()(n),r=0;r<s.length;r++){var l;void 0===s[r].timeStart&&(s[r].timeStart="00:00:00");for(var c=s[r].timeStart.split(":"),i=parseInt(c[0]),m=e[r].timeSpend.split(":"),u=(l=a).convertTimeInMinutes.apply(l,Object(o.a)(m));u>0;){var d=60-t[i].min;t[i].min=t[i].min+u,t[i].min>60?(t[i].min=60,i++,u-=d):u=0}a.setState((function(){return{data:t}})),s[r].timeStart=void 0}},a}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.state.data;this.changeData(t),this.convertData()}},{key:"componentDidUpdate",value:function(t,e){if(this.props!==t){var a=this.state.data;this.changeData(a),this.convertData()}}},{key:"render",value:function(){var t=this.state.data,e=E()(t);return s.a.createElement("div",{style:{maxWidth:"100%",height:300,padding:"0 20px 0 0"}},s.a.createElement(h.e,null,s.a.createElement(h.b,{data:e,margin:{top:20,right:0,left:0,bottom:5}},s.a.createElement(h.c,{strokeDasharray:"3 3"}),s.a.createElement(h.g,{dataKey:"id"}),s.a.createElement(h.h,null),s.a.createElement(h.f,null),s.a.createElement(h.d,null),s.a.createElement(h.a,{name:"Minutes in this hours",dataKey:"min",fill:"#3248C7"}))))}}]),e}(n.Component),T=Object(p.b)((function(t){return{tasks:t.tasks}}))(v),b=function(){return s.a.createElement(T,null)},N=a(478),S=a(481),I=a(485),y=a(484),O=a(480),C=a(482),j=a(483),w=a(486),M=a(14),D=a(88),x=a(91),_=new function t(){var e=this;Object(m.a)(this,t),this.tasks=[],this.id=0,this.getTasks=function(){return e.tasks=Object(o.a)(JSON.parse(localStorage.getItem("tasks"))),e.tasks=e.tasks===[]?[]:e.tasks,e.tasks},this.addItem=function(t){e.tasks=e.tasks.filter((function(t){return"progress"!==t.statusTask})),e.tasks.push(Object(D.a)({id:++e.id},t)),localStorage.setItem("tasks",JSON.stringify(e.tasks))},this.deleteItem=function(t){e.tasks=e.tasks.filter((function(e){return e.taskName!==t})),localStorage.setItem("tasks",JSON.stringify(e.tasks))},this.addProgressTask=function(t){e.tasks=[].concat(Object(o.a)(e.tasks),[t]),localStorage.setItem("tasks",JSON.stringify(e.tasks))},this.generateTask=function(t){e.tasks=t,localStorage.setItem("tasks",JSON.stringify(e.tasks))}},B=_.getTasks(),A=0,J=Object(x.b)({name:"tasks",initialState:{tasks:B,statusModal:!1,taskItem:{}},reducers:{addItem:{reducer:function(t,e){t.tasks=t.tasks.filter((function(t){return"progress"!==t.statusTask})),t.tasks.push(e.payload)},prepare:function(t){return{payload:Object(D.a)({id:A++},t)}}},deleteItem:function(t,e){var a=t.tasks.findIndex((function(t){return t.taskName===e.payload}));a>-1&&t.tasks.splice(a,1)},showModal:function(t,e){t.statusModal=!t.statusModal},generateTasks:function(t,e){t.tasks=e.payload},getTask:function(t,e){var a=t.tasks.filter((function(t){return t.taskName===e.payload}));t.taskItem=a[0]}}});var P=J.actions,F=P.addItem,W=P.deleteItem,K=P.showModal,L=P.generateTasks,U=P.getTask,G={addItem:F,deleteItem:W,showModal:K,generateTasks:L,getTask:U,deleteItemThunk:function(t){return function(e){_.deleteItem(t),e(W(t))}},generateTaskThunk:function(t){return function(e){_.generateTask(t),e(L(t))}},addProgressTaskThunk:function(t){return function(e){_.addProgressTask(t),e(F(t))}},addItemThunk:function(t){return function(e){_.addItem(t),e(F(t))}}},Y=J.reducer;a(450);function q(t,e){var a=t-.5+Math.random()*(e-t+1);return Math.round(a)}function z(t){var e=t/60^0,a=t>59?t-60:t;return e<10&&(e="0"+e),a<10&&(a="0"+a),"".concat(e,":").concat(a,":00")}var H=Object(p.b)(null,(function(t){var e=Object(M.bindActionCreators)(G,t);return{generateTasks:e.generateTasks,generateTaskThunk:e.generateTaskThunk}}))((function(t){var e=t.generateTaskThunk;return s.a.createElement("button",{className:"generate-btn",onClick:function(){return function(t){for(var e=q(10,15),a=[],n=1;n<=e;n++)a.push({id:"".concat(n,"task").concat(n),taskName:"Task ".concat(n),timeSpend:z(q(30,90))});return t(a),a}(e)}},"Generate")})),Q=Object(N.a)({table:{width:"100%"},tbody:{background:"#EAF6FF"},topCell:{color:"#9699A7"},td:{color:"#4962D0"},button:{background:"#fff",color:"#4962D0","&:hover":{backgroundColor:"#fff"}}}),R=Object(p.b)((function(t){return{tasks:t.tasks}}),(function(t){var e=Object(M.bindActionCreators)(G,t),a=e.addItem,n=e.getTask,s=G.deleteItemThunk;return{addItem:a,deteleItemThunks:function(e){return t(s(e))},getTask:n}}))((function(t){var e=t.tasks,a=t.deteleItemThunks,n=t.getTask,r=Q();return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{align:"center"},s.a.createElement(S.a,{className:r.table,"aria-label":"caption table"},s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement(y.a,{className:r.topCell},"\u2116"),s.a.createElement(y.a,{className:r.topCell,align:"left"},"Task"),s.a.createElement(y.a,{className:r.topCell,align:"left"},"Time start"),s.a.createElement(y.a,{className:r.topCell,align:"left"},"Time end"),s.a.createElement(y.a,{className:r.topCell,align:"left"},"Time Spend"),s.a.createElement(y.a,{className:r.topCell,align:"left"},"Info"),s.a.createElement(y.a,{className:r.topCell,align:"left"},"Delete"))),s.a.createElement(I.a,{className:r.tbody},e.filter((function(t){return"progress"!==t.statusTask})).map((function(t,e){return s.a.createElement(j.a,{key:e},s.a.createElement(y.a,{className:r.td,align:"left"},e+1),s.a.createElement(y.a,{className:r.td,component:"th",scope:"row"},t.taskName),s.a.createElement(y.a,{className:r.td,align:"left"},t.timeStart),s.a.createElement(y.a,{className:r.td,align:"left"},t.timeEnd),s.a.createElement(y.a,{className:r.td,align:"left"},t.timeSpend),s.a.createElement(y.a,{className:r.td,align:"left"},s.a.createElement(i.b,{to:"/tasks/".concat(t.taskId)},s.a.createElement(w.a,{className:r.button,variant:"contained",onClick:function(){return n(t.taskName)}}," info "))),s.a.createElement(y.a,{className:r.td,align:"left"},s.a.createElement(w.a,{className:r.button,variant:"contained",onClick:function(){return a(t.taskName)}}," delete ")))}))))),s.a.createElement(H,null))})),V=function(){return s.a.createElement("div",null,s.a.createElement(R,null))},X=(a(455),Object(p.b)((function(t){return{taskItem:t.taskItem}}))((function(t){var e=t.taskItem,a=e.taskName,n=e.timeStart,r=e.timeSpend,l=e.timeEnd;return s.a.createElement("div",null,s.a.createElement("h2",null,"Task information"),s.a.createElement("div",null,"Task name - ",a),s.a.createElement("div",null,"Start time - ",n),s.a.createElement("div",null,"End time - ",l),s.a.createElement("div",null,"Spend time - ",r),s.a.createElement(i.b,{className:"back-home-link",to:"/"},"Back home"))}))),Z=function(){return s.a.createElement("div",null,s.a.createElement(X,null))},$=(a(456),function(){return s.a.createElement("div",null,s.a.createElement("ul",{className:"top-links"},s.a.createElement("li",{className:"top-links__li"},s.a.createElement(i.c,{exact:!0,to:"/",className:"top-links__link",activeClassName:"active"},"Tasks log")),s.a.createElement("li",{className:"top-links__li"},s.a.createElement(i.c,{to:"/chart-page",className:"top-links__link",activeClassName:"active"},"Tasks chart"))))}),tt=(a(457),a(458),function(t){var e=t.showModal;return s.a.createElement("div",{className:"wrap-modal"},s.a.createElement("div",{className:" modal"},s.a.createElement("div",{className:"modal__header"},"Empy Task name"),s.a.createElement("div",{className:"modal__text"},"You are trying close your task name , enter the title and try again"),s.a.createElement("div",{className:"wrap-modal-btn"},s.a.createElement("button",{className:"modal-btn",onClick:e},"Close"))))}),et=function(t){function e(){var t,a;Object(m.a)(this,e);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(t=Object(k.a)(e)).call.apply(t,[this].concat(s)))).timerId=null,a.timeStart=null,a.state={flag:!1,hidden:!0,sec:"00",min:"00",h:"00",taskText:""},a.useStyles=function(){return Object(N.a)({timerBtn:{background:"#fff",textTransform:"uppercase"}})},a.changeShowBtn=function(){var t=a.state.hidden;a.setState({hidden:!t})},a.onTimerWrap=function(){var t=a.props.addProgressTaskThunk,e=a.state.taskId;a.timeStart=new Date,t({taskId:e,timeStart:a.timeStart.toString(),statusTask:"progress"}),a.setState((function(){return{taskId:e+1}})),a.startTimer()},a.startTimer=function(){var t=a.state,e=t.sec,n=t.min,s=t.h;a.timerId=setInterval((function(){e=parseInt(e)+1,n=parseInt(n),s=parseInt(s),60===e&&(e=0,n++),e=e<10?"0"+e:e,60===n&&(n=0,s++),n=n<10?"0"+n:n,s=s<10?"0"+s:s,a.setState((function(){return{sec:e,min:n,h:s}}))}),1e3)},a.timeSpend=function(t,e){var a=(e-t)/1e3^0,n=a/3600^0,s=(a-3600*n)/60^0,r=(a-3600*n)%60;return n<10&&(n="0"+n),s<10&&(s="0"+s),r<10&&(r="0"+r),"".concat(n,":").concat(s,":").concat(r)},a.stopTimer=function(t){var e=a.state.taskText,n=a.props,s=n.addItemThunk,r=n.showModal;if(0===e.length)return t.stopPropagation(),t.preventDefault(),r(),!1;clearTimeout(a.timerId);var l=new Date;s({taskName:e,timeStart:a.timeStart.toLocaleTimeString(),timeEnd:l.toLocaleTimeString(),timeSpend:a.timeSpend(a.timeStart,l)}),a.setState((function(){return{min:"00",sec:"00",h:"00",taskText:"",flag:!1}}))},a}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.tasks;if(t.some((function(t){return"progress"===t.statusTask}))){var e=new Date,a=t.filter((function(t){return"progress"===t.statusTask}))[0].timeStart,n=this.timeSpend(new Date(a),e).split(":");this.setState((function(){return{h:n[0],min:n[1],sec:n[2],hidden:!1,flag:!0}})),this.timeStart=new Date(a)}}},{key:"componentDidUpdate",value:function(){this.state.flag&&(this.setState((function(){return{flag:!1}})),this.startTimer())}},{key:"onChangeInput",value:function(t){this.setState({taskText:t.target.value})}},{key:"render",value:function(){var t=this,e=this.useStyles(),a=this.state,n=a.min,r=a.sec,l=a.h,c=a.hidden,i=a.taskText,o=this.props,m=o.statusModal,u=o.showModal,d=o.rel,k=m?s.a.createElement(tt,{showModal:u}):null,f=c?s.a.createElement(w.a,{className:e.timerBtn,variant:"contained",onClick:this.onTimerWrap}," Start "):s.a.createElement(w.a,{className:e.timerBtn,variant:"contained",onClick:function(e){return t.stopTimer(e)}}," Stop ");return s.a.createElement("div",{className:"wrap-top-block"},k,s.a.createElement("input",{type:"text",className:"task-input-name",value:i,onChange:function(e){t.onChangeInput(e)},placeholder:"Name of your task"}),s.a.createElement("div",{className:"b-timer",onClick:d},s.a.createElement("div",{className:"time"},s.a.createElement("span",{className:"time__items"},l,":",n,":",r))),s.a.createElement("span",{onClick:this.changeShowBtn},f))}}]),e}(s.a.Component),at=Object(p.b)((function(t){var e=t.tasks;return{statusModal:t.statusModal,tasks:e}}),(function(t){var e=Object(M.bindActionCreators)(G,t);return{addProgressTaskThunk:e.addProgressTaskThunk,addItemThunk:e.addItemThunk,showModal:e.showModal}}))(et),nt=(a(459),function(){return s.a.createElement("div",{className:"container"},s.a.createElement(at,null),s.a.createElement($,null),s.a.createElement(c.c,null,s.a.createElement(c.a,{path:"/",component:V,exact:!0}),s.a.createElement(c.a,{path:"/chart-page",component:b}),s.a.createElement(c.a,{path:"/tasks/:id",component:Z}),s.a.createElement(c.a,{path:"*"}," no match ",s.a.createElement("br",null),s.a.createElement(i.b,{to:"/"},"Back home"))))}),st=a(66),rt=Object(x.a)({reducer:Y,middleware:[st.a]});l.a.render(s.a.createElement(p.a,{store:rt},s.a.createElement(i.a,{basename:"timer-task"},s.a.createElement(nt,null))),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.b3fd928f.chunk.js.map