(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{236:function(t,e,a){t.exports=a(449)},241:function(t,e,a){},445:function(t,e,a){},446:function(t,e,a){},447:function(t,e,a){},448:function(t,e,a){},449:function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"deleteItem",(function(){return A})),a.d(n,"addItem",(function(){return M})),a.d(n,"showModal",(function(){return x})),a.d(n,"getTask",(function(){return K})),a.d(n,"generateTasks",(function(){return B})),a.d(n,"addProgressTask",(function(){return G}));var r=a(0),s=a.n(r),l=a(17),c=a.n(l),i=(a(241),a(38)),o=a(23),m=a(20),u=a(83),d=a(36),f=a(84),p=a(85),k=a(90),E=a(18),h=a(32),v=a(201),g=a.n(v),S=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={data:[]},a.convertTimeInMinutes=function(t,e,a){return parseInt(60*t)+parseInt(e)},a.convertData=function(){for(var t=a.state.data,e=a.props.tasks,n=0;n<e.length;n++){var r;void 0===e[n].timeStart&&(e[n].timeStart="00:00:00");for(var s=e[n].timeStart.split(":"),l=parseInt(s[0]),c=e[n].timeSpend.split(":"),i=(r=a).convertTimeInMinutes.apply(r,Object(m.a)(c));i>0;){var o=60-t[l].min;t[l].min=t[l].min+i,t[l].min>60?(t[l].min=60,l++,i-=o):i=0}a.setState((function(){return{data:t}})),e[n].timeStart=void 0}},a}return Object(k.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this.state.data;this.changeData(t),this.convertData()}},{key:"componentDidUpdate",value:function(t,e){if(this.props!==t){var a=this.state.data;this.changeData(a),this.convertData()}}},{key:"changeData",value:function(t){for(var e=0;e<24;e++)t[e]={id:e,min:0};this.setState((function(){return{data:t}}))}},{key:"render",value:function(){var t=this.state.data,e=g()(t);return s.a.createElement("div",{style:{maxWidth:"100%",height:300,padding:"0 20px 0 0"}},s.a.createElement(h.e,null,s.a.createElement(h.b,{data:e,margin:{top:20,right:0,left:0,bottom:5}},s.a.createElement(h.c,{strokeDasharray:"3 3"}),s.a.createElement(h.g,{dataKey:"id"}),s.a.createElement(h.h,null),s.a.createElement(h.f,null),s.a.createElement(h.d,null),s.a.createElement(h.a,{name:"Minutes in this hours",dataKey:"min",fill:"#3248C7"}))))}}]),e}(r.Component),b=Object(E.b)((function(t){return{tasks:t.tasks}}))(S),T=function(){return s.a.createElement(b,null)},N=a(467),y=a(470),I=a(474),O=a(473),j=a(469),D=a(471),_=a(472),C=a(475),w=a(26),A=function(t){return{type:"DELETE_TASK",payload:t}},M=function(t){return{type:"ADD_TASK",payload:t}},x=function(){return{type:"SHOW_MODAL"}},K=function(t){return{type:"GET_TASK",payload:t}},B=function(t){return{type:"GENERATE_TASKS",payload:t}},G=function(t){return{type:"ADD_PROGRESS_TASK",payload:t}},J=Object(N.a)({table:{width:"100%"},tbody:{background:"#EAF6FF"},topCell:{color:"#9699A7"},td:{color:"#4962D0"},button:{background:"#fff",color:"#4962D0","&:hover":{backgroundColor:"#fff"}}}),P=Object(E.b)((function(t){return{tasks:t.tasks}}),(function(t){var e=Object(w.a)(n,t);return{deleteItem:e.deleteItem,getTask:e.getTask}}))((function(t){var e=t.tasks,a=t.deleteItem,n=t.getTask,r=J();return s.a.createElement(j.a,{align:"center"},s.a.createElement(y.a,{className:r.table,"aria-label":"caption table"},s.a.createElement(D.a,null,s.a.createElement(_.a,null,s.a.createElement(O.a,{className:r.topCell},"\u2116"),s.a.createElement(O.a,{className:r.topCell,align:"left"},"Task"),s.a.createElement(O.a,{className:r.topCell,align:"left"},"Time start"),s.a.createElement(O.a,{className:r.topCell,align:"left"},"Time end"),s.a.createElement(O.a,{className:r.topCell,align:"left"},"Time Spend"),s.a.createElement(O.a,{className:r.topCell,align:"left"},"Info"),s.a.createElement(O.a,{className:r.topCell,align:"left"},"Delete"))),s.a.createElement(I.a,{className:r.tbody},e.filter((function(t){return"progress"!==t.statusTask})).map((function(t,e){return s.a.createElement(_.a,{key:e},s.a.createElement(O.a,{className:r.td,align:"left"},e+1),s.a.createElement(O.a,{className:r.td,component:"th",scope:"row"},t.taskName),s.a.createElement(O.a,{className:r.td,align:"left"},t.timeStart),s.a.createElement(O.a,{className:r.td,align:"left"},t.timeEnd),s.a.createElement(O.a,{className:r.td,align:"left"},t.timeSpend),s.a.createElement(O.a,{className:r.td,align:"left"},s.a.createElement(o.b,{to:"/tasks/".concat(t.taskId)},s.a.createElement(C.a,{className:r.button,variant:"contained",onClick:function(){return n(t.taskName)}}," info "))),s.a.createElement(O.a,{className:r.td,align:"left"},s.a.createElement(C.a,{className:r.button,variant:"contained",onClick:function(){return a(t.taskName)}}," delete ")))})))))})),L=function(){return s.a.createElement("div",null," ",s.a.createElement(P,null))},R=Object(E.b)((function(t){return{taskItem:t.taskItem}}))((function(t){var e=t.taskItem,a=e.taskName,n=e.timeStart,r=e.timeSpend,l=e.timeEnd;return s.a.createElement("div",null,s.a.createElement("h2",null,"\u0417\u0430\u0434\u0430\u0447\u0430"),s.a.createElement("div",null,"\u0438\u043c\u044f \u0437\u0430\u0434\u0430\u0447\u0438 - ",a),s.a.createElement("div",null,"\u0432\u0440\u0435\u043c\u044f \u0441\u0442\u0430\u0440\u0442\u0430 - ",n),s.a.createElement("div",null,"\u0432\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f - ",l),s.a.createElement("div",null,"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c - ",r),s.a.createElement(o.b,{to:"/"},"Back home"))})),W=function(){return s.a.createElement("div",null," ",s.a.createElement(R,null))},F=(a(445),function(){return s.a.createElement("div",null,s.a.createElement("ul",{className:"top-links"},s.a.createElement("li",{className:"top-links__li"},s.a.createElement(o.c,{exact:!0,to:"/",className:"top-links__link",activeClassName:"active"},"Tasks log")),s.a.createElement("li",{className:"top-links__li"},s.a.createElement(o.c,{to:"/chart-page",className:"top-links__link",activeClassName:"active"},"Tasks chart"))))}),H=(a(446),a(447),function(t){var e=t.showModal;return s.a.createElement("div",{className:"wrap-modal"},s.a.createElement("div",{className:" modal"},s.a.createElement("div",{className:"modal__header"},"Empy Task name"),s.a.createElement("div",{className:"modal__text"},"You are trying close your task name , enter the title and try again"),s.a.createElement("div",{className:"wrap-modal-btn"},s.a.createElement("button",{className:"modal-btn",onClick:e},"Close"))))}),U=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).timerId=null,a.timeStart=null,a.state={flag:!1,hidden:!0,sec:"00",min:"00",h:"00",taskText:"",taskId:1},a.useStyles=function(){return Object(N.a)({timerBtn:{background:"#fff",textTransform:"uppercase"}})},a.changeShowBtn=function(){var t=a.state.hidden;a.setState({hidden:!t})},a.onTimerWrap=function(){var t=a.props.addProgressTask,e=a.state,n=(e.sec,e.min,e.h,e.taskId);e.flag;a.timeStart=new Date,t({taskId:n,timeStart:a.timeStart,statusTask:"progress"}),a.setState((function(){return{taskId:n+1}})),a.startTimer()},a.startTimer=function(){var t=a.state,e=t.sec,n=t.min,r=t.h;t.taskId,t.flag;a.timerId=setInterval((function(){e=parseInt(e)+1,n=parseInt(n),r=parseInt(r),60===e&&(e=0,n++),e=e<10?"0"+e:e,60===n&&(n=0,r++),n=n<10?"0"+n:n,r=r<10?"0"+r:r,a.setState((function(){return{sec:e,min:n,h:r}}))}),1e3)},a.timeSpend=function(t,e){var a=(e-t)/1e3^0,n=a/3600^0,r=(a-3600*n)/60^0,s=(a-3600*n)%60;return n<10&&(n="0"+n),r<10&&(r="0"+r),s<10&&(s="0"+s),"".concat(n,": ").concat(r,": ").concat(s)},a.stopTimer=function(t){var e=a.state,n=(e.sec,e.min,e.h,e.taskText),r=e.taskId,s=a.props,l=s.addItem,c=s.showModal;if(0===n.length)return t.stopPropagation(),t.preventDefault(),c(),!1;clearTimeout(a.timerId);var i=new Date;l({taskId:r,taskName:n,timeStart:a.timeStart.toLocaleTimeString(),timeEnd:i.toLocaleTimeString(),timeSpend:a.timeSpend(a.timeStart,i)}),a.setState((function(){return{min:"00",sec:"00",h:"00",taskText:"",taskId:r+1,flag:!1}}))},a}return Object(k.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.tasks;if(t.some((function(t){return"progress"===t.statusTask}))){var e=new Date,a=t.filter((function(t){return"progress"===t.statusTask}))[0].timeStart,n=this.timeSpend(new Date(a),e).split(":");this.setState((function(){return{h:n[0],min:n[1],sec:n[2],hidden:!1,flag:!0}})),this.timeStart=new Date(a)}}},{key:"componentDidUpdate",value:function(){this.state.flag&&(this.setState((function(){return{flag:!1}})),this.startTimer())}},{key:"onChangeInput",value:function(t){this.setState({taskText:t.target.value})}},{key:"render",value:function(){var t=this,e=this.useStyles(),a=this.state,n=a.min,r=a.sec,l=a.h,c=a.hidden,i=a.taskText,o=this.props,m=o.statusModal,u=o.showModal,d=m?s.a.createElement(H,{showModal:u}):null,f=c?s.a.createElement(C.a,{className:e.timerBtn,variant:"contained",onClick:this.onTimerWrap}," Start "):s.a.createElement(C.a,{className:e.timerBtn,variant:"contained",onClick:function(e){return t.stopTimer(e)}}," Stop ");return s.a.createElement("div",{className:"wrap-top-block"},d,s.a.createElement("input",{type:"text",className:"task-input-name",value:i,onChange:function(e){t.onChangeInput(e)},placeholder:"Name of your task"}),s.a.createElement("div",{className:"b-timer"},s.a.createElement("div",{className:"time"},s.a.createElement("span",{className:"time__items"},l," : ",n," : ",r))),s.a.createElement("span",{onClick:this.changeShowBtn},f))}}]),e}(s.a.Component),Y=Object(E.b)((function(t){return{statusModal:t.statusModal,tasks:t.tasks}}),(function(t){var e=Object(w.a)(n,t);return{addItem:e.addItem,showModal:e.showModal,addProgressTask:e.addProgressTask}}))(U);function q(t,e){var a=t-.5+Math.random()*(e-t+1);return Math.round(a)}function z(t){var e=t/60^0,a=t>59?t-60:t;return e<10&&(e="0"+e),a<10&&(a="0"+a),"".concat(e,":").concat(a,":00")}var Q=Object(E.b)((function(){return{}}),(function(t){return{generateTasks:Object(w.a)(n,t).generateTasks}}))((function(t){var e=t.generateTasks;return s.a.createElement("button",{onClick:function(){return function(t){for(var e=q(10,15),a=[],n=1;n<=e;n++)a.push({taskId:n,taskName:"Task ".concat(n),timeSpend:z(q(30,90))});return t(a),a}(e)}},"Generate")})),V=(a(448),function(){return s.a.createElement("div",{className:"container"},s.a.createElement(Y,null),s.a.createElement(F,null),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/",component:L,exact:!0}),s.a.createElement(i.a,{path:"/chart-page",component:T}),s.a.createElement(i.a,{path:"/tasks/:id",component:W}),s.a.createElement(i.a,{path:"*"}," no match ",s.a.createElement("br",null),s.a.createElement(o.b,{to:"/"},"Back home"))),s.a.createElement(Q,null))}),X=a(46),Z=JSON.parse(localStorage.getItem("tasks")),$={tasks:null===Z?[]:Z,statusModal:!1,taskItem:{}},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0,a=t.tasks,n=t.statusModal,r=t.taskItem;switch(e.type){case"GENERATE_TASKS":return localStorage.setItem("tasks",JSON.stringify(e.payload)),a=e.payload,Object(X.a)({},t,{tasks:a});case"GET_TASK":var s=a.filter((function(t){return t.taskName===e.payload}));return r=s[0],Object(X.a)({},t,{taskItem:r});case"DELETE_TASK":var l=e.payload,c=a.findIndex((function(t){return t.taskName===l}));return a=[].concat(Object(m.a)(a.slice(0,c)),Object(m.a)(a.slice(c+1))),localStorage.setItem("tasks",JSON.stringify(a)),Object(X.a)({},t,{tasks:a});case"ADD_TASK":var i=a.findIndex((function(t){return"progress"===t.statusTask}));return a=[].concat(Object(m.a)(a.slice(0,i)),Object(m.a)(a.slice(i+1)),[e.payload]),localStorage.setItem("tasks",JSON.stringify(a)),Object(X.a)({},t,{tasks:a});case"ADD_PROGRESS_TASK":return a=[].concat(Object(m.a)(a),[e.payload]),localStorage.setItem("tasks",JSON.stringify(a)),Object(X.a)({},t,{tasks:a});case"SHOW_MODAL":return n=!n,Object(X.a)({},t,{statusModal:n});default:return t}},et=Object(w.b)(tt);c.a.render(s.a.createElement(E.a,{store:et},s.a.createElement(o.a,null,s.a.createElement(V,null))),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.9da88cee.chunk.js.map